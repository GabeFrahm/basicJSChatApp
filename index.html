<html>
  <head>
      <title>gabeFrahm.dev</title>
      <meta charset = 'utf-8'>
      <link rel='stylesheet' href='style.css'>
  </head>

  <script src='/socket.io/socket.io.js'></script>
  <script src='https://code.jquery.com/jquery-3.4.1.min.js'></script>
  <script>
    let user = prompt('Enter Username:')
    if (user == null || user == '') user = 'New User'
    $(function () {
      let socket = io();
      $('form').submit(function(e) {
        e.preventDefault(); // prevent page reloading
        socket.emit('chat message', user, $('#input').val());
        $('#input').val('');
        return false;
      });
      socket.on('chat message', function(usr, msg) {
        $('#messages').append($('<li>').text(usr + ': ' + msg));
        //console.log(`Recieved Message: ${msg}`)
      })
    });
  </script>

<body class='bkg'>

  <h1>gabeFrahm.dev | Chat</h1>
  

  <div id='container-messages'>
    <ul id='messages'>This is a test message</ul>
  </div>

  <div id='container-input'>
    <form action=''>
      <input id='input' autocomplete='off' />
      <button>Send</button>
    </form>
  </div>
<br>
</body>
</html>
